---
title: "Publications"
title-block-banner: false
---

```{r }
#| name: setup
#| message: false
#| eval: true
#| include: true
#| echo: false
source("functions.R")
```

```{r importing pubs}
#| name: importing pubs
#| message: false
#| eval: true
#| include: true
#| echo: false

pubs <- get_cv_sheet('pubs') |>
  mutate(
    journal  = ifelse(is.na(journal_abbv), '', paste0('<u>**', journal_abbv, '**</u>')),
    number   = ifelse(is.na(number), '', paste0(number, '.')),
    doi      = case_when(is.na(doi) ~ '',
                         doi == 'Submitted under consideration' ~ doi,
                         TRUE ~ paste0('Available at: [', doi, '](', 'https://doi.org/', doi, ')')
       ),
    year     = paste0("(", year, ")"),
    title    = enquote(title),
    conference = ifelse(is.na(conference_name), '', paste0('<u>**', conference_name, '**</u>')),
    organization = ifelse(is.na(organization_name), '', paste0(organization_name, '.')),
    # Different citation formats for different categories
    citation = case_when(
      category == "conference" ~ paste(author, year, title, conference, 
                                      paste0(organization, ", ", place)),
      category == "white_paper" ~ paste(author, year, title, organization_name, 
                                      paste0(place)),
      category == "peer_reviewed" ~ paste(author, year, title, journal, number, doi),
      category == "working" ~ paste(author, year, title, journal, doi),
      category == "thesis" ~ paste(author, year, title, journal, organization)
    )
  ) |> 
  arrange(desc(year))
```

## Peer-Reviewed Publications
```{r printing references in pandoc format}
#| message: false
#| eval: true
#| include: true
#| echo: false
#| results: asis

make_ordered_list_filtered(pubs, "peer_reviewed")
```

## Others
## Pre-prints
```{r printing pre-print}
#| message: false
#| eval: true
#| include: true
#| echo: false
#| results: asis
make_ordered_list_filtered(pubs, "working")
```

### Policy Statements, White Papers, Reports
```{r printing white papers}
#| message: false
#| eval: true
#| include: true
#| echo: false
#| results: asis
make_ordered_list_filtered(pubs, "white_paper")
```

### Theses
```{r theses}
#| message: false
#| eval: true
#| include: true
#| echo: false
#| results: asis
make_ordered_list_filtered(pubs, "thesis")
```

### Conference Abstracts
```{r conference}
#| message: false
#| eval: true
#| include: true
#| echo: false
#| results: asis
make_ordered_list_filtered(pubs, "conference")
```